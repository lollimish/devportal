@startuml

title Create Chat Group Sequence
hide footbox
participant "Endpoint A" as EPA
participant "AT&T API Gateway" as Gateway
participant "Endpoint B" as EPB
autonumber
note over EPA, EPB
1. EndPoints are registered with Gateway
2. EndPoints have established event channel to get notification of network events. 

end note

loop Long polling 
EPA->Gateway: GET /sessions/{sessionId}/events
end

EPA -> Gateway:POST /sessions/{sessionId}/groups(subject, members)
Gateway-->EPA: 202 Accepted (location)
autonumber 
loop Long polling 
EPB->Gateway: GET /sessions/{sessionId}/events
Gateway-->EPB: 200 OK event(type=groups, subType=invite)
end

@enduml