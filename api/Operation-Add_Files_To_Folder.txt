0.0.1 Functional Behavior

[note:
Describe the functional behavior provided by this operation. Also 
add here any special considerations, assumptions, and 
dependencies for this particular operation
]

Add a list of file into an existing folder. Adding the same file 
twice in a folder is allowed. A folder “Antarctica” contains 
File1.txt

If a user selects 3 files, File1.txt, File2.txt, File3.txt and 
adds them to the folder “Antarctica”, folder “Antarctica” will 
contain, the following: File1.txt, File1.txt, File2.txt and 
File3.txt.

0.0.2 Call flow

[note:
Insert below a sequence diagram (ping pong) diagram in context to 
a complete call flow or transaction with numbered arrows and some 
description explaining the sequence as appropriate.
]

0.0.3 Version Impact Summary

[note:
Summarize the different versions of this operation that are in 
production or deleted by the current release of this service. 
]


+------------------+------------------------+------------------------------------+
| Service Version  | Major or Minor Impact  | Changes Introduced by this Version |
+------------------+------------------------+------------------------------------+
+------------------+------------------------+------------------------------------+
| 1                | Major                  | Initial Release                    |
+------------------+------------------------+------------------------------------+


0.0.4 Authentication and Authorization

[note:
Describe OAuth model applicable to this operation.
]


+-----------------------------+-------------------------------------+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Authorization Model         | Subscriber Authorization required?  | OAuth Scope Value  | Brief Description                                                                                                                                                                                                                                     |
+-----------------------------+-------------------------------------+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
+-----------------------------+-------------------------------------+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| OAuth 

authorization_code  | Yes                                 | LOCKER             | 1. Redirect user to AT&T authorization page to capture User 
  consent

2. Obtain Token obtained using authorization code issued by the 
  gateway alonf the client key and secret by making an Oauth 
  token call with GrantType=authorization_code |
+-----------------------------+-------------------------------------+--------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


0.0.5 Representation Formats

[note:
In the table below, describe supported representation formats for 
the request and response body. Where different versions support 
different formats, provide separate tables and indicate which 
versions apply to each table. 
]


+------------+----------------------------------+
| Direction  | Supported Representation Formats |
+------------+----------------------------------+
+------------+----------------------------------+
| Request    | XML, JSON                        |
+------------+----------------------------------+
| Response   | XML, JSON                        |
+------------+----------------------------------+






0.0.6 Input Parameters

[note:
In the table below, describe input parameters. Where different 
versions support different input parameters, provide separate 
tables and indicate which versions apply to each table. The 
allowed values for the Location in Request column are: Header, 
Resource URI, Body or Query Parameter.
]


+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| Parameter        | Data Type  | Req?  | Brief description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Location |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| accept           | String     | No    | Specifies the format of the body of the response. Valid values 
are: 

• application/json

• application/xml

The default value is application/json. Per rfc2616: "If no Accept 
header field is present, then it is assumed that the client 
accepts all media types." By default our services return 
application/json.

Normal Accept header processing rules shall be followed according 
to rfc2616.

Note: If there is no entity body in a normal successful response, 
this parameter can still be specified to determine the format in 
the case of an error response message.  | Header   |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| accept-encoding  | String     | No    | Specifies the accept encoding format. When this header is 
present, the gateway should compress the response to indicate the 
client that response is in compressed format. Valid values are: 
gzip                                                                                                                                                                                                                                                                                                                                                                                     | Header   |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| authorization    | String     | Yes   | Specifies the authorization type and token. "Bearer" + OAuth 
Token – access_token. If the authorization header is missing, the 
system shall return an HTTP 400 Invalid Request message. If the 
token is invalid the system shall return an HTTP 401 Unauthorized 
message with a WWW-Authenticate HTTP header.                                                                                                                                                                                                                                                                       | Header   |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| content-length   | Integer    | No    | Specifies the length of the content in octets. This header 
parameter is only required for the non-streaming request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Header   |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| content-type     | String     | Yes   | Specifies the type of content of the body of the entity. Must be 
set to one of the following values:

• application/json

• application/xml                                                                                                                                                                                                                                                                                                                                                                                                                                            | Header   |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| folderId         | Integer    | Yes   | Specifies the id of the folder where the files will be placed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | URI Path |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| fileIds          | Object     | Yes   | Contains the file information to be added                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Body     |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| id               | Array      | Yes   | Specifies the ids of the files that are to be added to the 
folder.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Body     |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| index            | Integer    | No    | Specifies the absolute position where you want to place the new 
files. 

Default is to put at the end of the folder.                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Body     |
+------------------+------------+-------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+






  Request – Example (Add files to a folder in XML)




This demonstrates how to add a file to a folder, and specifying 
the request to be in XML.

POST /locker/v1/folders/3433435/files HTTP/1.1 

Host: api.att.com

content-type: application/xml

authorization: Bearer abcdef12345678

accept: application/xml



<?xml version="1.0" encoding="UTF-8" ?>

<fileIds>

    <id>112</id>

    <id>125</id>

    <index>1</index>  	

</fileIds>

  Request – Example (Add files to a folder in JSON)


This demonstrates how to add a file to a folder, and specifying 
the request to be in JSON.

POST /locker/v1/folders/3433435/files HTTP/1.1 

Host: api.att.com

content-type: application/json

authorization: Bearer abcdef12345678

accept: application/json



{

  "fileIds": {

    "id": [112,125],

    "index": 1

  }

}

0.0.7 Output Parameters

[note:
In the table below, describe output parameters. Where different 
versions support different output parameters, provide separate 
tables and indicate which versions apply to each table. Note: 
‘consent’ refers to end user consent which may need to be 
obtained before data is returned,
]


+---------------+------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| Parameter     | Data Type  | Req?  | Brief description                                                                                                                                                                                                                                                                                                | Location |
+---------------+------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
+---------------+------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+
| content-type  | string     | yes   | Specifies the type of content of the body of the entity. Must be 
set to one of the following values:

• application/json

• aplication/xml

Note: If there is no entity body in a normal successful response, 
this parameter is still needed to specify the format in the case 
of an error response message.  | Header   |
+---------------+------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+----------+






  Response – Example (Response to adding files to a folder)


This shows the response to a an add file to folder request.

HTTP/1.1 204 No Content

Date: Thu, 04 Jun 2010 02:51:59 GMT

0.0.8 HTTP Response Codes

[note:
List expected response codes (indicate any variation that exists 
across different versions):
]


+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Code  | Reason Phrase             | Description                                                                                                                                                              |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 204   | No Content                | Successful response and the response does not include an entity.                                                                                                         |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 400   | Bad Request               | Many possible reasons not specified by the other codes.                                                                                                                  |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 401   | Authentication Error      | Authentication failed or was not provided.                                                                                                                               |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 403   | Forbidden                 | Access permission error.                                                                                                                                                 |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 404   | Not Found                 | The server has not found anything matching the Request-URI. No 
indication is given of whether the condition is temporary or 
permanent.                                 |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 405   | Method Not Allowed        | A request was made of a resource using a request method not 
supported by that resource (e.g., using PUT on a REST resource 
that only supports POST).                   |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 408   | Request Timeout           | The client did not produce a request within the time that the 
server was prepared to wait. The client MAY repeat the request 
without modifications at any later time.  |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 411   | Length Required           | The Content-Length header was not specified.                                                                                                                             |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 413   | Request Entity Too Large  | The size of the request body exceed the maximum size permitted.                                                                                                          |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 415   | Unsupported Media Type    | The request is in a format not supported by the requested 
resource for the requested method.                                                                            |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 500   | Internal Server Error     | The server encountered an internal error or timed out; please 
retry.                                                                                                    |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 503   | Service Unavailable       | The server is currently unable to receive requests; please retry.                                                                                                        |
+-------+---------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+




0.0.9 Service Exceptions

[note:
List the service exceptions generated by the operation (indicate 
any variation that exists across different versions):
]


+------------+------------------------------------------------------------------+----------------------------------------------------------------------+------------------+
| MessageId  | Text                                                             | Variables                                                            | Parent HTTP Code |
+------------+------------------------------------------------------------------+----------------------------------------------------------------------+------------------+
+------------+------------------------------------------------------------------+----------------------------------------------------------------------+------------------+
| SVC0001    | A service error has occurred. Error code is <Error Explanation>  | Error Explanation : <content here>                                   | 400              |
+------------+------------------------------------------------------------------+----------------------------------------------------------------------+------------------+
| SVC0002    | Invalid input value for Message part <part name>                 | part name : name of the input parameter that resulted in the 
error  | 400              |
+------------+------------------------------------------------------------------+----------------------------------------------------------------------+------------------+




0.0.10 Policy Exceptions

[note:
List the policy exceptions generated by the operation (indicate 
any variation that exists across different versions):
]


+------------+---------------------------------------------------------------------------------------------------+--------------------------------------+------------------+
| MessageId  | Text                                                                                              | Variables                            | Parent HTTP Code |
+------------+---------------------------------------------------------------------------------------------------+--------------------------------------+------------------+
+------------+---------------------------------------------------------------------------------------------------+--------------------------------------+------------------+
| POL0001    | A policy error occurred. For example, rate limit error, 
authentication and authorization error.  | N/A                                  | 401,403          |
+------------+---------------------------------------------------------------------------------------------------+--------------------------------------+------------------+
| POL1009    | User has not been provisioned for %1                                                              | System that hasn’t been provisioned  | 403              |
+------------+---------------------------------------------------------------------------------------------------+--------------------------------------+------------------+




